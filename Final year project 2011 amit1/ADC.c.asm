.file "L:\Final year project 2011 amit\ADC.c.c"

	.text

	.global Reading
	.p2align 2
	.size Reading, 2400
Reading:
	.word 0x30
	.word 0x31
	.word 0x32
	.word 0x33
	.word 0x34
	.word 0x35
	.word 0x36
	.word 0x37
	.word 0x38
	.word 0x39
	.word 0x3a
	.word 0x3b
	.word 0x3c
	.word 0x3d
	.word 0x3e
	.word 0x3f
	.word 0x40
	.word 0x41
	.word 0x42
	.word 0x43
	.word 0x44
	.word 0x45
	.word 0x46
	.word 0x47
	.word 0x48
	.word 0x49
	.word 0x4a
	.word 0x4b
	.word 0x4c
	.word 0x4d
	.word 0x4e
	.word 0x4f
	.word 0x50
	.word 0x51
	.word 0x52
	.word 0x53
	.word 0x54
	.word 0x55
	.word 0x56
	.word 0x57
	.word 0x58
	.word 0x59
	.word 0x5a
	.word 0x5b
	.word 0x5c
	.word 0x5d
	.word 0x5e
	.word 0x5f
	.word 0x60
	.word 0x61
	.word 0x62
	.word 0x63
	.word 0x64
	.word 0x65
	.word 0x66
	.word 0x67
	.word 0x68
	.word 0x69
	.word 0x6a
	.word 0x6b
	.word 0x6c
	.word 0x6d
	.word 0x6e
	.word 0x6f
	.word 0x70
	.word 0x71
	.word 0x72
	.word 0x73
	.word 0x74
	.word 0x75
	.word 0x76
	.word 0x77
	.word 0x78
	.word 0x79
	.word 0x7a
	.word 0x7b
	.word 0x7c
	.word 0x7d
	.word 0x7e
	.word 0x7f
	.word 0x82
	.word 0x83
	.word 0x84
	.word 0x86
	.word 0x87
	.word 0x88
	.word 0x89
	.word 0x8a
	.word 0x8b
	.word 0x8c
	.word 0x8d
	.word 0x8e
	.word 0x8f
	.word 0x90
	.word 0x91
	.word 0x92
	.word 0x93
	.word 0x94
	.word 0x95
	.word 0x96
	.word 0x97
	.word 0x98
	.word 0x99
	.word 0x9a
	.word 0x9b
	.word 0x9c
	.word 0x9d
	.word 0x9e
	.word 0x9f
	.word 0xa0
	.word 0xa1
	.word 0xa2
	.word 0xa3
	.word 0xa4
	.word 0xa5
	.word 0xa6
	.word 0xa7
	.word 0xa8
	.word 0xa9
	.word 0xaa
	.word 0xab
	.word 0xac
	.word 0xad
	.word 0xae
	.word 0xaf
	.word 0xb0
	.word 0xb1
	.word 0xb2
	.word 0xb3
	.word 0xb4
	.word 0xb5
	.word 0xb6
	.word 0xb7
	.word 0xb8
	.word 0xb9
	.word 0xba
	.word 0xbb
	.word 0xbc
	.word 0xbd
	.word 0xbe
	.word 0xbf
	.word 0xc0
	.word 0xc1
	.word 0xc2
	.word 0xc3
	.word 0xc4
	.word 0xc5
	.word 0xc6
	.word 0xc7
	.word 0xc8
	.word 0xc9
	.word 0xca
	.word 0xcb
	.word 0xcc
	.word 0xcd
	.word 0xce
	.word 0xcf
	.word 0xd0
	.word 0xd1
	.word 0xd2
	.word 0xd3
	.word 0xd4
	.word 0xd5
	.word 0xd6
	.word 0xd7
	.word 0xd8
	.word 0xd9
	.word 0xda
	.word 0xdb
	.word 0xdc
	.word 0xdd
	.word 0xde
	.word 0xdf
	.word 0xe0
	.word 0xe1
	.word 0xe2
	.word 0xe3
	.word 0xe4
	.word 0xe5
	.word 0xe6
	.word 0xe7
	.word 0xe8
	.word 0xe9
	.word 0xea
	.word 0xeb
	.word 0xec
	.word 0xed
	.word 0xee
	.word 0xef
	.word 0xf0
	.word 0xf1
	.word 0xf2
	.word 0xf3
	.word 0xf4
	.word 0xf5
	.word 0xf6
	.word 0xf7
	.word 0xf8
	.word 0xf9
	.word 0xfa
	.word 0xfb
	.word 0xfc
	.word 0xfd
	.word 0xfe
	.word 0xff
	.word 0x100
	.word 0x101
	.word 0x102
	.word 0x103
	.word 0x104
	.word 0x105
	.word 0x106
	.word 0x107
	.word 0x108
	.word 0x109
	.word 0x10a
	.word 0x10b
	.word 0x10c
	.word 0x10d
	.word 0x10e
	.word 0x10f
	.word 0x110
	.word 0x111
	.word 0x112
	.word 0x113
	.word 0x114
	.word 0x115
	.word 0x116
	.word 0x117
	.word 0x118
	.word 0x119
	.word 0x11a
	.word 0x11b
	.word 0x11c
	.word 0x11d
	.word 0x11e
	.word 0x11f
	.word 0x120
	.word 0x121
	.word 0x122
	.word 0x123
	.word 0x124
	.word 0x125
	.word 0x126
	.word 0x127
	.word 0x128
	.word 0x129
	.word 0x12a
	.word 0x12b
	.word 0x12c
	.word 0x12d
	.word 0x12e
	.word 0x12f
	.word 0x130
	.word 0x131
	.word 0x132
	.word 0x133
	.word 0x134
	.word 0x135
	.word 0x136
	.word 0x137
	.word 0x138
	.word 0x139
	.word 0x13a
	.word 0x13b
	.word 0x13c
	.word 0x13d
	.word 0x13e
	.word 0x13f
	.word 0x140
	.word 0x141
	.word 0x142
	.word 0x143
	.word 0x144
	.word 0x145
	.word 0x146
	.word 0x147
	.word 0x148
	.word 0x149
	.word 0x14a
	.word 0x14b
	.word 0x14c
	.word 0x14d
	.word 0x14e
	.word 0x14f
	.word 0x150
	.word 0x151
	.word 0x152
	.word 0x153
	.word 0x154
	.word 0x155
	.word 0x156
	.word 0x157
	.word 0x158
	.word 0x159
	.word 0x15a
	.word 0x15b
	.word 0x15c
	.word 0x15d
	.word 0x15e
	.word 0x15f
	.word 0x160
	.word 0x161
	.word 0x162
	.word 0x163
	.word 0x164
	.word 0x165
	.word 0x166
	.word 0x167
	.word 0x168
	.word 0x169
	.word 0x16a
	.word 0x16b
	.word 0x16c
	.word 0x16d
	.word 0x16e
	.word 0x16f
	.word 0x170
	.word 0x171
	.word 0x172
	.word 0x173
	.word 0x174
	.word 0x175
	.word 0x176
	.word 0x177
	.word 0x178
	.word 0x179
	.word 0x17a
	.word 0x17b
	.word 0x17c
	.word 0x17d
	.word 0x17e
	.word 0x17f
	.word 0x180
	.word 0x181
	.word 0x182
	.word 0x183
	.word 0x184
	.word 0x185
	.word 0x186
	.word 0x187
	.word 0x188
	.word 0x189
	.word 0x18a
	.word 0x18b
	.word 0x18c
	.word 0x18d
	.word 0x18e
	.word 0x18f
	.word 0x190
	.word 0x191
	.word 0x192
	.word 0x193
	.word 0x194
	.word 0x195
	.word 0x196
	.word 0x197
	.word 0x198
	.word 0x199
	.word 0x19a
	.word 0x19b
	.word 0x19c
	.word 0x19d
	.word 0x19e
	.word 0x19f
	.word 0x1a0
	.word 0x1a1
	.word 0x1a2
	.word 0x1a3
	.word 0x1a4
	.word 0x1a5
	.word 0x1a6
	.word 0x1a7
	.word 0x1a8
	.word 0x1a9
	.word 0x1aa
	.word 0x1ab
	.word 0x1ac
	.word 0x1ad
	.word 0x1ae
	.word 0x1af
	.word 0x1b0
	.word 0x1b2
	.word 0x1b3
	.word 0x1b4
	.word 0x1b5
	.word 0x1b6
	.word 0x1b7
	.word 0x1b8
	.word 0x1b9
	.word 0x1ba
	.word 0x1bb
	.word 0x1bc
	.word 0x1bd
	.word 0x1be
	.word 0x1bf
	.word 0x1c0
	.word 0x1c1
	.word 0x1c2
	.word 0x1c3
	.word 0x1c4
	.word 0x1c5
	.word 0x1c6
	.word 0x1c7
	.word 0x1c8
	.word 0x1c9
	.word 0x1ca
	.word 0x1cb
	.word 0x1cc
	.word 0x1cd
	.word 0x1ce
	.word 0x1cf
	.word 0x1d0
	.word 0x1d1
	.word 0x1d2
	.word 0x1d3
	.word 0x1d4
	.word 0x1d5
	.word 0x1d6
	.word 0x1d7
	.word 0x1d8
	.word 0x1d9
	.word 0x1da
	.word 0x1db
	.word 0x1dc
	.word 0x1dd
	.word 0x1de
	.word 0x1df
	.word 0x1e0
	.word 0x1e1
	.word 0x1e2
	.word 0x1e3
	.word 0x1e4
	.word 0x1e5
	.word 0x1e6
	.word 0x1e7
	.word 0x1e8
	.word 0x1e9
	.word 0x1ea
	.word 0x1eb
	.word 0x1ec
	.word 0x1ed
	.word 0x1ee
	.word 0x1ef
	.word 0x1f0
	.word 0x1f1
	.word 0x1f2
	.word 0x1f3
	.space 608

	.global Tempr
	.p2align 2
	.size Tempr, 2400
Tempr:
	.word 0x0
	.word 0x3e000000
	.word 0x3e800000
	.word 0x3ec00000
	.word 0x3f000000
	.word 0x3f200000
	.word 0x3f400000
	.word 0x3f600000
	.word 0x3f800000
	.word 0x3f900000
	.word 0x3fa00000
	.word 0x3fb00000
	.word 0x3fc00000
	.word 0x3fd00000
	.word 0x3fe00000
	.word 0x3ff00000
	.word 0x40000000
	.word 0x40080000
	.word 0x40100000
	.word 0x40180000
	.word 0x40200000
	.word 0x40280000
	.word 0x40300000
	.word 0x40380000
	.word 0x40400000
	.word 0x40480000
	.word 0x40500000
	.word 0x40580000
	.word 0x40600000
	.word 0x40680000
	.word 0x40700000
	.word 0x40780000
	.word 0x40800000
	.word 0x40840000
	.word 0x40880000
	.word 0x408c0000
	.word 0x40900000
	.word 0x40940000
	.word 0x40980000
	.word 0x409c0000
	.word 0x40a00000
	.word 0x40a40000
	.word 0x40a80000
	.word 0x40ac0000
	.word 0x40b00000
	.word 0x40b40000
	.word 0x40b80000
	.word 0x40bc0000
	.word 0x40c00000
	.word 0x40c40000
	.word 0x40c80000
	.word 0x40cc0000
	.word 0x40d00000
	.word 0x40d40000
	.word 0x40d80000
	.word 0x40dc0000
	.word 0x40e00000
	.word 0x40e40000
	.word 0x40e80000
	.word 0x40ec0000
	.word 0x40f00000
	.word 0x40f40000
	.word 0x40f80000
	.word 0x40fc0000
	.word 0x41000000
	.word 0x41020000
	.word 0x41040000
	.word 0x41060000
	.word 0x41080000
	.word 0x410a0000
	.word 0x410c0000
	.word 0x410e0000
	.word 0x41100000
	.word 0x41120000
	.word 0x41140000
	.word 0x41160000
	.word 0x41180000
	.word 0x411a0000
	.word 0x411c0000
	.word 0x411e0000
	.word 0x41200000
	.word 0x41220000
	.word 0x41240000
	.word 0x41260000
	.word 0x41280000
	.word 0x412a0000
	.word 0x412c0000
	.word 0x412e0000
	.word 0x41300000
	.word 0x41320000
	.word 0x41340000
	.word 0x41360000
	.word 0x41380000
	.word 0x413a0000
	.word 0x413c0000
	.word 0x413e0000
	.word 0x41400000
	.word 0x41420000
	.word 0x41440000
	.word 0x41460000
	.word 0x41480000
	.word 0x414a0000
	.word 0x414c0000
	.word 0x414e0000
	.word 0x41500000
	.word 0x41520000
	.word 0x41540000
	.word 0x41560000
	.word 0x41580000
	.word 0x415a0000
	.word 0x415c0000
	.word 0x415e0000
	.word 0x41600000
	.word 0x41620000
	.word 0x41640000
	.word 0x41660000
	.word 0x41680000
	.word 0x416a0000
	.word 0x416c0000
	.word 0x416e0000
	.word 0x41700000
	.word 0x41720000
	.word 0x41740000
	.word 0x41760000
	.word 0x41780000
	.word 0x417a0000
	.word 0x417c0000
	.word 0x417e0000
	.word 0x41800000
	.word 0x41810000
	.word 0x41820000
	.word 0x41830000
	.word 0x41840000
	.word 0x41850000
	.word 0x41860000
	.word 0x41870000
	.word 0x41880000
	.word 0x41890000
	.word 0x418a0000
	.word 0x418b0000
	.word 0x418c0000
	.word 0x418d0000
	.word 0x418e0000
	.word 0x418f0000
	.word 0x41900000
	.word 0x41910000
	.word 0x41920000
	.word 0x41930000
	.word 0x41940000
	.word 0x41950000
	.word 0x41960000
	.word 0x41970000
	.word 0x41980000
	.word 0x41990000
	.word 0x419a0000
	.word 0x419b0000
	.word 0x419c0000
	.word 0x419d0000
	.word 0x419e0000
	.word 0x419f0000
	.word 0x41a00000
	.word 0x41a10000
	.word 0x41a20000
	.word 0x41a30000
	.word 0x41a40000
	.word 0x41a50000
	.word 0x41a60000
	.word 0x41a70000
	.word 0x41a00000
	.word 0x41a90000
	.word 0x41aa0000
	.word 0x41ab0000
	.word 0x41ac0000
	.word 0x41ad0000
	.word 0x41ae0000
	.word 0x41af0000
	.word 0x41b00000
	.word 0x41b10000
	.word 0x41b20000
	.word 0x41b30000
	.word 0x41b40000
	.word 0x41b50000
	.word 0x41b60000
	.word 0x41b70000
	.word 0x41b80000
	.word 0x41b90000
	.word 0x41ba0000
	.word 0x41bb0000
	.word 0x41bc0000
	.word 0x41bd0000
	.word 0x41be0000
	.word 0x41bf0000
	.word 0x41c00000
	.word 0x41c10000
	.word 0x41c20000
	.word 0x41c30000
	.word 0x41c40000
	.word 0x41c50000
	.word 0x41c60000
	.word 0x41c70000
	.word 0x41c80000
	.word 0x41c90000
	.word 0x41ca0000
	.word 0x41cb0000
	.word 0x41cc0000
	.word 0x41cd0000
	.word 0x41ce0000
	.word 0x41cf0000
	.word 0x41d00000
	.word 0x41d10000
	.word 0x41d20000
	.word 0x41d30000
	.word 0x41d40000
	.word 0x41d50000
	.word 0x41d60000
	.word 0x41d70000
	.word 0x41d80000
	.word 0x41d90000
	.word 0x41da0000
	.word 0x41db0000
	.word 0x41dc0000
	.word 0x41dd0000
	.word 0x41de0000
	.word 0x41df0000
	.word 0x41e00000
	.word 0x41e10000
	.word 0x41e20000
	.word 0x41e30000
	.word 0x41e40000
	.word 0x41e50000
	.word 0x41e60000
	.word 0x41e70000
	.word 0x41e80000
	.word 0x41e90000
	.word 0x41ea0000
	.word 0x41eb0000
	.word 0x41ec0000
	.word 0x41ed0000
	.word 0x41ee0000
	.word 0x41ef0000
	.word 0x41f00000
	.word 0x41f10000
	.word 0x41f20000
	.word 0x41f30000
	.word 0x41f40000
	.word 0x41f50000
	.word 0x41f60000
	.word 0x41f70000
	.word 0x41f80000
	.word 0x41f90000
	.word 0x41fa0000
	.word 0x41fb0000
	.word 0x41fc0000
	.word 0x41fd0000
	.word 0x41fe0000
	.word 0x41ff0000
	.word 0x42000000
	.word 0x42008000
	.word 0x42010000
	.word 0x42018000
	.word 0x42020000
	.word 0x42028000
	.word 0x42030000
	.word 0x42038000
	.word 0x42040000
	.word 0x42048000
	.word 0x42050000
	.word 0x42058000
	.word 0x42060000
	.word 0x42068000
	.word 0x42070000
	.word 0x42078000
	.word 0x42080000
	.word 0x42088000
	.word 0x42090000
	.word 0x42098000
	.word 0x420a0000
	.word 0x420a8000
	.word 0x420b0000
	.word 0x420b8000
	.word 0x420c0000
	.word 0x420c8000
	.word 0x420d0000
	.word 0x420d8000
	.word 0x420e0000
	.word 0x420e8000
	.word 0x420f0000
	.word 0x420f8000
	.word 0x42100000
	.word 0x42108000
	.word 0x42110000
	.word 0x42118000
	.word 0x42120000
	.word 0x42128000
	.word 0x42130000
	.word 0x42138000
	.word 0x42140000
	.word 0x42148000
	.word 0x42150000
	.word 0x42158000
	.word 0x42160000
	.word 0x42168000
	.word 0x42170000
	.word 0x42178000
	.word 0x42180000
	.word 0x42188000
	.word 0x42190000
	.word 0x42198000
	.word 0x421a0000
	.word 0x421a8000
	.word 0x421b0000
	.word 0x421b8000
	.word 0x421c0000
	.word 0x421c8000
	.word 0x421d0000
	.word 0x421d8000
	.word 0x421e0000
	.word 0x421e8000
	.word 0x421f0000
	.word 0x421f8000
	.word 0x42200000
	.word 0x42208000
	.word 0x42210000
	.word 0x42218000
	.word 0x42220000
	.word 0x42228000
	.word 0x42230000
	.word 0x42238000
	.word 0x42240000
	.word 0x42248000
	.word 0x42250000
	.word 0x42258000
	.word 0x42260000
	.word 0x42268000
	.word 0x42270000
	.word 0x42278000
	.word 0x42280000
	.word 0x42288000
	.word 0x42290000
	.word 0x42298000
	.word 0x422a0000
	.word 0x422a8000
	.word 0x422b0000
	.word 0x422b8000
	.word 0x422c0000
	.word 0x422c8000
	.word 0x422d0000
	.word 0x422d8000
	.word 0x422e0000
	.word 0x422e8000
	.word 0x422f0000
	.word 0x422f8000
	.word 0x42300000
	.word 0x42308000
	.word 0x42310000
	.word 0x42318000
	.word 0x42320000
	.word 0x42328000
	.word 0x42330000
	.word 0x42338000
	.word 0x42340000
	.word 0x42348000
	.word 0x42350000
	.word 0x42358000
	.word 0x42360000
	.word 0x42368000
	.word 0x42370000
	.word 0x42378000
	.word 0x42380000
	.word 0x42388000
	.word 0x42390000
	.word 0x42398000
	.word 0x423a0000
	.word 0x423a8000
	.word 0x423b0000
	.word 0x423b8000
	.word 0x423c0000
	.word 0x423c8000
	.word 0x423d0000
	.word 0x423d8000
	.word 0x423e0000
	.word 0x423e8000
	.word 0x423f0000
	.word 0x423f8000
	.word 0x42400000
	.word 0x42408000
	.word 0x42410000
	.word 0x42418000
	.word 0x42420000
	.word 0x42428000
	.word 0x42430000
	.word 0x42438000
	.word 0x42440000
	.word 0x42448000
	.word 0x42450000
	.word 0x42458000
	.word 0x42460000
	.word 0x42468000
	.word 0x42470000
	.word 0x42478000
	.word 0x42480000
	.word 0x42488000
	.word 0x42490000
	.word 0x42498000
	.word 0x424a0000
	.word 0x424a8000
	.word 0x424b0000
	.word 0x424b8000
	.word 0x424c0000
	.word 0x424c8000
	.word 0x424d0000
	.word 0x424d8000
	.word 0x424e0000
	.word 0x424e8000
	.word 0x424f0000
	.word 0x424f8000
	.word 0x42500000
	.word 0x42508000
	.word 0x42510000
	.word 0x42518000
	.word 0x42520000
	.word 0x42528000
	.word 0x42530000
	.word 0x42538000
	.word 0x42540000
	.word 0x42548000
	.word 0x42550000
	.word 0x42558000
	.word 0x42560000
	.word 0x42568000
	.word 0x42570000
	.word 0x42578000
	.word 0x42580000
	.word 0x42588000
	.word 0x42590000
	.word 0x42598000
	.word 0x425a0000
	.word 0x425a8000
	.word 0x425b0000
	.word 0x425b8000
	.word 0x425c0000
	.word 0x425c8000
	.word 0x425d0000
	.word 0x425d8000
	.word 0x425e0000
	.word 0x425e8000
	.word 0x425f0000
	.word 0x425f8000
	.word 0x42600000
	.word 0x42608000
	.word 0x42610000
	.word 0x42618000
	.word 0x42620000
	.word 0x42628000
	.word 0x42630000
	.word 0x42638000
	.word 0x42640000
	.space 572

	.data

	.global g_uiNum
	.comm g_uiNum,4,4

	.section .initdata
	.p2align 2
	.word g_uiNum
	.word 4
	.word 0x0

	.global g_uiReading
	.comm g_uiReading,4,4

	.section .initdata
	.p2align 2
	.word g_uiReading
	.word 4
	.word 0x0

	.global g_uiRefRead
	.comm g_uiRefRead,4,4

	.section .initdata
	.p2align 2
	.word g_uiRefRead
	.word 4
	.word 0x0

	.global PrevTempRead
	.comm PrevTempRead,4,4

	.section .initdata
	.p2align 2
	.word PrevTempRead
	.word 4
	.word 0x0

	.global g_uiTempRead
	.comm g_uiTempRead,4,4

	.section .initdata
	.p2align 2
	.word g_uiTempRead
	.word 4
	.word 0x0

	.global g_usADCData
	.comm g_usADCData,2,4

	.section .initdata
	.p2align 2
	.word g_usADCData
	.word 2
	.short 0x0

	.global ADC_Init

	.text

	.p2align 2

	.text
ADC_Init:
	mov	R12, sp
	stmfd	sp!, {R4, R5, R11, R12, lr}
	mov R11,R13

@line 31,0	{   


@line 33,0		PINSEL1 = 0x03000000 ;	//P0.28,AD0.1 & P0.29

	ldr	R4, LIT.ADC_Init0+0
	ldr	R5, LIT.ADC_Init0+4
	str	R5, [R4]

@line 34,0		PINSEL0 = 0x00000000 ;  // PINSEL(0,1,2) = 0 configures pins as GPIO

	ldr	R4, LIT.ADC_Init0+8
	mov	R5, #0

	str	R5, [R4]

@line 35,0	}

L.1:
	ldmfd	R11, {R4, R5, R11, sp, pc}

	.p2align 2
LIT.ADC_Init0:
	.word 0xE002C004
	.word 0x3000000
	.word 0xE002C000



	.global ADC_GetAdcReading
	@------------- locals ---------------------
	@adcdata -- R11 - (4)

	.p2align 2

	.text
ADC_GetAdcReading:
	mov	R12, sp
	stmfd	sp!, {R4, R5, R11, R12, lr}
	mov R11,R13
	sub	sp, sp, #1 * 4

@line 37,0	{


@line 39,0		AD0CR = 0x01200302 ;

	ldr	R4, LIT.ADC_GetAdcReading0+0
	ldr	R5, LIT.ADC_GetAdcReading0+4
	str	R5, [R4]
L.3:

@line 41,1		{


@line 42,1		}

L.4:

@line 40,7	
	ldr	R4, LIT.ADC_GetAdcReading0+8
	ldr	R4,[R4]
	str	R4, [R11, #-4]
	ldr	R5, LIT.ADC_GetAdcReading0+12
	and R4, R4, R5
	mov	R5, #0

	cmp	R4,R5
	beq	L.3

@line 43,7		return((adcdata >> 6) & 0x3ff) ;

	ldr	R4,[R11, #-4]
	mov	R5, #6

	mov R4, R4, lsr R5
	mov	R5, #1020
	add	R5, R5, #3

	and R0, R4, R5
L.2:
	ldmfd	R11, {R4, R5, R11, sp, pc}

	.p2align 2
LIT.ADC_GetAdcReading0:
	.word 0xE0034000
	.word 0x1200302
	.word 0xE0034004
	.word 0x80000000



	.global delay
	@------------- locals ---------------------
	@i -- R11 - (4)

	.p2align 2

	.text
delay:
	mov	R12, sp
	stmfd	sp!, {R4, R5, R11, R12, lr}
	mov R11,R13
	sub	sp, sp, #1 * 4

@line 47,0	{


@line 49,6		for (i=0;i<30000;i++) ;

	mov	R4, #0

	str	R4, [R11, #-4]
L.7:

@line 49,23	
L.8:

@line 49,18	
	ldr	R4,[R11, #-4]
	add	R4, R4, #1
	str	R4, [R11, #-4]

@line 49,10	
	ldr	R4,[R11, #-4]
	ldr	R5, LIT.delay0+0
	cmp	R4,R5
	blt	L.7

@line 51,0	}

L.6:
	ldmfd	R11, {R4, R5, R11, sp, pc}

	.p2align 2
LIT.delay0:
	.word 0x7530



	.global main
	@------------- locals ---------------------
	@i -- R11 - (1)
	@delay -- R11 - (8)
	@RawRead1 -- R11 - (12)
	@uiTempRead -- R11 - (16)
	@adcreading -- R11 - (32)

	.p2align 2

	.text
main:
	mov	R12, sp
	stmfd	sp!, {R4, R5, R6, R11, R12, lr}
	mov R11,R13
	sub	sp, sp, #12 * 4

@line 97,0	{


@line 103,1		InitUart0() ;

	bl	InitUart0

@line 104,1		LcdInit ();

	bl	LcdInit

@line 105,1		DisplayRow(1,"B.N.C.O.E.Pusad") ;

	mov	R0, #1

	ldr	R1, LIT.main0+0
	bl	DisplayRow

@line 106,1		ADC_Init() ;

	bl	ADC_Init
	b	L.14
L.13:

@line 108,1		{


@line 110,2			g_usADCData  = ADC_GetAdcReading() ;

	bl	ADC_GetAdcReading
	ldr	R5, LIT.main0+4
	mov	R4, R0
	strh	R4, [R5]

@line 112,2			g_uiRawReading =g_usADCData;

	ldr	R4, LIT.main0+8
	ldr	R5, LIT.main0+4
	ldrh	R5,[R5]
	str	R5, [R4]

@line 114,2			printf("ADCData = 0x%03X  %u\n",g_uiRawReading,g_uiRawReading) ;

	ldr	R0, LIT.main0+12
	ldr	R4, LIT.main0+8
	ldr	R4,[R4]
	mov	R1, R4
	mov	R2, R4
	bl	printf

@line 116,6			for(i=0;i<600;i++)

	mov	R4, #0

	strb	R4, [R11, #-1]
	b	L.20
L.17:

@line 117,2			{


@line 118,3				uiTempRead = Reading[i+1] ;

	ldrb	R4,[R11, #-1]
	mov	R5, #2

	mov R4, R4, lsl R5
	ldr	R5, LIT.main0+16
	add	R4, R4, R5
	ldr	R4,[R4]
	str	R4, [R11, #-16]

@line 119,3				RawRead1 = Reading[i] ;

	ldrb	R4,[R11, #-1]
	mov	R5, #2

	mov R4, R4, lsl R5
	ldr	R5, LIT.main0+20
	add	R4, R4, R5
	ldr	R4,[R4]
	str	R4, [R11, #-12]

@line 121,6				if(g_uiRawReading == RawRead1)

	ldr	R4, LIT.main0+8
	ldr	R4,[R4]
	ldr	R5,[R11, #-12]
	cmp	R4,R5
	bne	L.22

@line 122,3				{


@line 123,4					g_uiTempRead= Tempr[i] ;

	ldr	R4, LIT.main0+24
	ldrb	R5,[R11, #-1]
	mov	R6, #2

	mov R5, R5, lsl R6
	ldr	R6, LIT.main0+28
	add	R5, R5, R6
	ldr	R5,[R5]
	str	R5, [R4]

@line 125,4					printf("\nTemp Reading:%3.3f\n",g_uiTempRead) ;	

	ldr	R4, LIT.main0+24
	ldr	R0,[R4]
	bl	cvFD
	mov	R5, R1
	mov	R4, R0
	ldr	R0, LIT.main0+32
	mov	R1, R4
	mov	R2, R5
	bl	printf

@line 127,7					if(g_uiTempRead>=33)

	ldr	R4, LIT.main0+24
	ldr	R0,[R4]
	ldr	R4, LIT.main0+36
	ldr	R1,[R4]
	bl	cmpF4
	cmp	R0, #0
	blt	L.25

@line 128,4					{


@line 130,0						IO0DIR=0x20000000;	// P0.29is output

	ldr	R4, LIT.main0+40
	ldr	R5, LIT.main0+44
	str	R5, [R4]

@line 131,0						IO1DIR=0x00000000;	//for F place P1.0-P1.31 are output

	ldr	R4, LIT.main0+48
	mov	R5, #0

	str	R5, [R4]

@line 136,0					IO0CLR = 0x20000000;//P0.29 is set to low i.e 0

	ldr	R4, LIT.main0+52
	ldr	R5, LIT.main0+44
	str	R5, [R4]

@line 139,4					}

	b	L.26
L.25:

@line 141,4					{


@line 142,0					IO0DIR=0x20000000;	// P0.29is output

	ldr	R4, LIT.main0+40
	ldr	R5, LIT.main0+44
	str	R5, [R4]

@line 143,0					IO0SET = 0x20000000; //P0.29 is set to high i.e 1

	ldr	R4, LIT.main0+56
	ldr	R5, LIT.main0+44
	str	R5, [R4]

@line 144,4					}

L.26:

@line 146,4					sprintf(adcreading,"Tempr =%3.3f",g_uiTempRead) ;

	ldr	R4, LIT.main0+24
	ldr	R0,[R4]
	bl	cvFD
	mov	R5, R1
	mov	R4, R0
	add	R0, R11, #-32
	ldr	R1, LIT.main0+60
	mov	R2, R4
	mov	R3, R5
	bl	sprintf

@line 147,4					DisplayRow(2,adcreading) ;

	mov	R0, #2

	add	R1, R11, #-32
	bl	DisplayRow

@line 150,4					break ;

	b	L.19
L.22:

@line 152,3			 }

L.18:

@line 116,16	
	ldrb	R4,[R11, #-1]
	add	R4, R4, #1
	strb	R4, [R11, #-1]
L.20:

@line 116,10	
	ldrb	R4,[R11, #-1]
	ldr	R5, LIT.main0+64
	cmp	R4,R5
	blt	L.17
L.19:

@line 153,6			for(delay=0;delay<60000;delay++);

	mov	R4, #0

	str	R4, [R11, #-8]
	b	L.32
L.29:

@line 153,34	
L.30:

@line 153,26	
	ldr	R4,[R11, #-8]
	add	R4, R4, #1
	str	R4, [R11, #-8]
L.32:

@line 153,14	
	ldr	R4,[R11, #-8]
	ldr	R5, LIT.main0+68
	cmp	R4,R5
	blo	L.29

@line 154,1		}	

L.14:

@line 107,7	
	b	L.13

@line 156,0	}

L.11:
	ldmfd	R11, {R4, R5, R6, R11, sp, pc}

	.p2align 2
LIT.main0:
	.word L.12
	.word g_usADCData
	.word g_uiRawReading
	.word L.16
	.word Reading+4
	.word Reading
	.word g_uiTempRead
	.word Tempr
	.word L.24
	.word L.27
	.word 0xE0028008
	.word 0x20000000
	.word 0xE0028018
	.word 0xE002800C
	.word 0xE0028004
	.word L.28
	.word 0x258
	.word 0xEA60

	.global	cmpF4
	.global	cvFD


	.global g_uiRawReading
	.lcomm g_uiRawReading,4

	.global line2
	.lcomm line2,16

	.global line1
	.lcomm line1,16

	.global g_byRecords
	.lcomm g_byRecords,1

	.text
	.p2align 2
	.size L.28, 13
L.28:
	.byte 84, 101, 109, 112
	.byte 114, 32, 61, 37
	.byte 51, 46, 51, 102
	.byte 0
	.p2align 2
	.size L.27, 4
L.27:
	.word 0x42040000
	.p2align 2
	.size L.24, 21
L.24:
	.byte 10, 84, 101, 109
	.byte 112, 32, 82, 101
	.byte 97, 100, 105, 110
	.byte 103, 58, 37, 51
	.byte 46, 51, 102, 10
	.byte 0
	.p2align 2
	.size L.16, 22
L.16:
	.byte 65, 68, 67, 68
	.byte 97, 116, 97, 32
	.byte 61, 32, 48, 120
	.byte 37, 48, 51, 88
	.byte 32, 32, 37, 117
	.byte 10, 0
	.p2align 2
	.size L.12, 16
L.12:
	.byte 66, 46, 78, 46
	.byte 67, 46, 79, 46
	.byte 69, 46, 80, 117
	.byte 115, 97, 100, 0
